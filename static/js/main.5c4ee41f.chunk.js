(this["webpackJsonpbeneficiarios-auxilio"]=this["webpackJsonpbeneficiarios-auxilio"]||[]).push([[0],{26:function(e,n,t){e.exports=t(49)},31:function(e,n,t){},49:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(18),i=t.n(o),c=(t(31),t(19)),s=t(20),l=t(25),u=t(24),d=t(5),f=t.n(d),p=t(2),h=t(3);function m(){var e=Object(p.a)(["\n  outline: none;\n  color: #49536B;\n  border: transparent;\n  padding: 3px 8px;\n  border-radius: 50px;\n  background-color: white;\n  height: 2.5rem;\n  width: 6rem;\n  font-weight: bold;\n  box-shadow: 0px 0px 5px #858CA2;\n\n  &:hover{\n    cursor: pointer;\n  }\n"]);return m=function(){return e},e}function g(){var e=Object(p.a)(["\n  outline: none;\n  border: none;\n  font-size: 1.2rem;\n  background-color: transparent;\n  color: #49536B;\n  padding: 0 5px;\n  margin: 0 8px;\n  width: inherit;\n\n  &::placeholder{\n    color: #BCBCC8;\n  }\n"]);return g=function(){return e},e}function b(){var e=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  padding: 8px;\n  border-radius: 30px;\n  background-color: #F1F1F8;\n  color: #49536B;\n  box-shadow: 0px 0px 8px #858CA2;\n\n  @media(max-width: 450px){\n    width: 75%;\n  }\n\n  .SearchIcon{\n    color: #49536B;\n    font-size: 1.6rem;\n    margin: 0px 6px;\n  }\n"]);return b=function(){return e},e}var x=h.a.div(b()),v=h.a.input(g()),y=h.a.button(m()),w=function(e){return e.children},E=function(e){return r.a.createElement(w,null,r.a.createElement(x,null,r.a.createElement("i",{className:"fas fa-search SearchIcon"}),r.a.createElement(v,{onChange:e.changed,placeholder:"S\xe3o Paulo"}),r.a.createElement(y,{onClick:e.search},"Pesquisar")))};function C(){var e=Object(p.a)(["\n  position: absolute;\n  top: 55vh;\n  margin-top: 8px;\n  display: ",";\n\n  @media(max-width: 680px){\n    flex-direction: column;\n    margin-top: 32px;\n    width: 90%;\n  }\n"]);return C=function(){return e},e}function j(){var e=Object(p.a)(["\n  color: #eb4034;\n  font-size: 1.2rem;\n  padding: 5px;\n"]);return j=function(){return e},e}function B(){var e=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  height: 100vh;\n"]);return B=function(){return e},e}var S=h.a.div(B()),O=h.a.h1(j()),k=h.a.div(C(),(function(e){return e.show?"flex":"none"}));function q(){var e=Object(p.a)(["\n  width: 90px;\n  height: 90px;\n  background-color: #fff;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 0px 0px 2px #858CA2;\n  font-size: 2.5rem;\n  \n  .fa-users{\n    color: #5978CE;\n  }\n\n  .fa-coins{\n    color: #ceb159;\n  }\n\n  .fa-venus{\n    color: #ce5967;\n  }\n\n"]);return q=function(){return e},e}function A(){var e=Object(p.a)(["\n  border-radius: 8px;\n  box-shadow: 0px 0px 5px #858CA2;\n  padding: 28px;\n  display: flex;\n  justify-items: center;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  margin: 8px;\n"]);return A=function(){return e},e}var I=h.a.div(A()),R=h.a.div(q()),z=function(e){return r.a.createElement(I,null,r.a.createElement(R,null,r.a.createElement("i",{className:"".concat(e.icon)})),r.a.createElement("p",null,e.title),r.a.createElement("p",null,e.data))};function M(){var e=Object(p.a)(["\n  position: absolute;\n  background-color: rgba(0,0,0,0.5);\n  width: 100%;\n  height: 100%;\n  display: ",";\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  color: #ffffa3;\n\n  .fa-spinner{\n    color: #eded28;\n    animation: spinning 1s infinite; \n    font-size: 2.5rem; \n  }\n\n  @keyframes spinning {\n    from{\n      transform: rotate(0deg);\n    }\n    to{\n      transform: rotate(360deg);\n    }\n  }\n"]);return M=function(){return e},e}var F=h.a.div(M(),(function(e){return e.show?"flex":"none"})),L=function(e){var n=["As requisi\xe7\xf5es podem demorar um pouco.","Buscando informa\xe7\xf5es sobre a cidade...","Isso pode demorar um minuto.","Acessando o portal transpar\xeancia."];return r.a.createElement(F,{show:e.show},r.a.createElement("i",{className:"fas fa-spinner"}),r.a.createElement("p",null,n[Math.floor(Math.random()*n.length)]))},N={Accept:"*/*","chave-api-dados":"5aecd3bc98d291bef3a214c8ec827981","Content-Type":"application/json"},J=function(e){Object(l.a)(t,e);var n=Object(u.a)(t);function t(){var e;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={city:null,benefited:0,reais:0,cityCode:null,error:!1,errorInRequest:0},e.searchBenefitedByMonth=function(n,t){var a="https://cors-anywhere.herokuapp.com/http://www.portaltransparencia.gov.br/api-de-dados/auxilio-emergencial-por-municipio?mesAno=".concat(n,"&codigoIbge=").concat(t,"&pagina=1");f.a.get(a,{headers:N}).then((function(n){var t=n.data[0].quantidadeBeneficiados,a=e.state.benefited+t,r=n.data[0].valor,o=e.state.reais+r;console.log("Reais",n.data[0].valor),console.log("Beneficiados",n.data[0].quantidadeBeneficiados),e.setState({benefited:a,reais:o})})).catch((function(n){var t=e.state.errorInRequest;e.setState({errorInRequest:t+1}),t>2&&e.setState({error:!0})}))},e.requestBenefited=function(){for(var n=["202004","202005","202006","202007"],t=e.state.cityCode,a=0;a<n.length;a++)e.searchBenefitedByMonth(n[a],t)},e.searchCityCode=function(){var n=e.state.city;if(null!==n){n=e.clearString(n);var t="https://servicodados.ibge.gov.br/api/v1/localidades/municipios/".concat(n);f.a.get(t).then((function(n){0!==n.data.length?(e.state.error&&e.setState({error:!1}),e.setState({cityCode:n.data.id,errorInRequest:0}),e.requestBenefited()):e.setState({error:!0})})).catch((function(n){e.setState({error:!0})})),e.setState({benefited:0,reais:0})}},e.changed=function(n){var t=n.target.value;e.setState({city:t})},e.clearString=function(e){for(var n=e.toLowerCase().replace(/ /g,"-"),t=0;t<"\xe1\xe0\xe3\xe2\xe9\xe8\xea\xeb\xec\xed\xee\xef\xf3\xf5\xf2\xf4\xf9\xfa\xfb\xfc".length;t++)n=n.replace("\xe1\xe0\xe3\xe2\xe9\xe8\xea\xeb\xec\xed\xee\xef\xf3\xf5\xf2\xf4\xf9\xfa\xfb\xfc"[t],"aaaaeeeeiiiioooouuuu"[t]);return n},e.loading=null,e}return Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(S,null,this.state.error?r.a.createElement(O,null,"Cidade n\xe3o encontrada"):null,r.a.createElement(E,{changed:function(n){return e.changed(n)},search:this.searchCityCode}),r.a.createElement(L,{show:0===this.state.benefited&&null!==this.state.cityCode}),r.a.createElement(k,{show:this.state.benefited>0},r.a.createElement(z,{icon:"fas fa-users",title:"Total de beneficiados:",data:this.state.benefited}),r.a.createElement(z,{icon:"fas fa-coins",title:"Reais distribu\xeddos:",data:this.state.reais.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}),r.a.createElement(z,{icon:"fas fa-venus",title:"Chefes de fam\xedlia:",data:(this.state.reais-600*this.state.benefited)/600})))}}]),t}(a.Component);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.5c4ee41f.chunk.js.map